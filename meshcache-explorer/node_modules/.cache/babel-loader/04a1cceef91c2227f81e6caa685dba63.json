{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('eventemitter3'), require('@babel/runtime/helpers/get'), require('lodash/isFunction'), require('@babel/runtime/helpers/createClass'), require('@babel/runtime/helpers/classCallCheck'), require('@babel/runtime/helpers/possibleConstructorReturn'), require('@babel/runtime/helpers/getPrototypeOf'), require('@babel/runtime/helpers/inherits')) : typeof define === 'function' && define.amd ? define(['exports', 'eventemitter3', '@babel/runtime/helpers/get', 'lodash/isFunction', '@babel/runtime/helpers/createClass', '@babel/runtime/helpers/classCallCheck', '@babel/runtime/helpers/possibleConstructorReturn', '@babel/runtime/helpers/getPrototypeOf', '@babel/runtime/helpers/inherits'], factory) : factory(global.Web3CoreSubscriptions = {}, global.EventEmitter, global._get, global.isFunction, global._createClass, global._classCallCheck, global._possibleConstructorReturn, global._getPrototypeOf, global._inherits);\n})(this, function (exports, EventEmitter, _get, isFunction, _createClass, _classCallCheck, _possibleConstructorReturn, _getPrototypeOf, _inherits) {\n  'use strict';\n\n  EventEmitter = EventEmitter && EventEmitter.hasOwnProperty('default') ? EventEmitter['default'] : EventEmitter;\n  _get = _get && _get.hasOwnProperty('default') ? _get['default'] : _get;\n  isFunction = isFunction && isFunction.hasOwnProperty('default') ? isFunction['default'] : isFunction;\n  _createClass = _createClass && _createClass.hasOwnProperty('default') ? _createClass['default'] : _createClass;\n  _classCallCheck = _classCallCheck && _classCallCheck.hasOwnProperty('default') ? _classCallCheck['default'] : _classCallCheck;\n  _possibleConstructorReturn = _possibleConstructorReturn && _possibleConstructorReturn.hasOwnProperty('default') ? _possibleConstructorReturn['default'] : _possibleConstructorReturn;\n  _getPrototypeOf = _getPrototypeOf && _getPrototypeOf.hasOwnProperty('default') ? _getPrototypeOf['default'] : _getPrototypeOf;\n  _inherits = _inherits && _inherits.hasOwnProperty('default') ? _inherits['default'] : _inherits;\n\n  var AbstractSubscription = function (_EventEmitter) {\n    _inherits(AbstractSubscription, _EventEmitter);\n\n    function AbstractSubscription(type, method, options, utils, formatters, moduleInstance) {\n      var _this;\n\n      _classCallCheck(this, AbstractSubscription);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AbstractSubscription).call(this));\n      _this.type = type;\n      _this.method = method;\n      _this.options = options || null;\n      _this.utils = utils;\n      _this.formatters = formatters;\n      _this.moduleInstance = moduleInstance;\n      _this.id = null;\n      return _this;\n    }\n\n    _createClass(AbstractSubscription, [{\n      key: \"beforeSubscription\",\n      value: function beforeSubscription(moduleInstance) {}\n    }, {\n      key: \"onNewSubscriptionItem\",\n      value: function onNewSubscriptionItem(subscriptionItem) {\n        return subscriptionItem;\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(callback) {\n        var _this2 = this;\n\n        this.beforeSubscription(this.moduleInstance);\n        var subscriptionParameters = [];\n\n        if (this.options !== null) {\n          subscriptionParameters = [this.options];\n        }\n\n        this.moduleInstance.currentProvider.subscribe(this.type, this.method, subscriptionParameters).then(function (subscriptionId) {\n          _this2.id = subscriptionId;\n\n          _this2.moduleInstance.currentProvider.on(_this2.id, function (response) {\n            var formattedOutput = _this2.onNewSubscriptionItem(response.result);\n\n            _this2.emit('data', formattedOutput);\n\n            if (isFunction(callback)) {\n              callback(false, formattedOutput);\n            }\n          });\n        }).catch(function (error) {\n          _this2.emit('error', error);\n\n          if (isFunction(callback)) {\n            callback(error, null);\n          }\n        });\n        return this;\n      }\n    }, {\n      key: \"unsubscribe\",\n      value: function unsubscribe(callback) {\n        var _this3 = this;\n\n        return this.moduleInstance.currentProvider.unsubscribe(this.id, this.type.slice(0, 3) + '_unsubscribe').then(function (response) {\n          if (!response) {\n            var error = new Error('Error on unsubscribe!');\n\n            if (isFunction(callback)) {\n              callback(error, null);\n            }\n\n            throw error;\n          }\n\n          _this3.id = null;\n\n          _this3.removeAllListeners('data');\n\n          if (isFunction(callback)) {\n            callback(false, true);\n          }\n\n          return true;\n        });\n      }\n    }]);\n\n    return AbstractSubscription;\n  }(EventEmitter);\n\n  var LogSubscription = function (_AbstractSubscription) {\n    _inherits(LogSubscription, _AbstractSubscription);\n\n    function LogSubscription(options, utils, formatters, moduleInstance, getPastLogsMethod) {\n      var _this;\n\n      _classCallCheck(this, LogSubscription);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(LogSubscription).call(this, 'eth_subscribe', 'logs', options, utils, formatters, moduleInstance));\n      _this.getPastLogsMethod = getPastLogsMethod;\n      return _this;\n    }\n\n    _createClass(LogSubscription, [{\n      key: \"subscribe\",\n      value: function subscribe(callback) {\n        var _this2 = this;\n\n        if (this.options.fromBlock && this.options.fromBlock !== 'latest' || this.options.fromBlock === 0) {\n          this.getPastLogsMethod.parameters = [this.formatters.inputLogFormatter(this.options)];\n          this.getPastLogsMethod.execute().then(function (logs) {\n            logs.forEach(function (log) {\n              var formattedLog = _this2.onNewSubscriptionItem(log);\n\n              if (isFunction(callback)) {\n                callback(false, formattedLog);\n              }\n\n              _this2.emit('data', formattedLog);\n            });\n            delete _this2.options.fromBlock;\n\n            _get(_getPrototypeOf(LogSubscription.prototype), \"subscribe\", _this2).call(_this2, callback);\n          }).catch(function (error) {\n            if (isFunction(callback)) {\n              callback(error, null);\n            }\n\n            _this2.emit('error', error);\n          });\n          return this;\n        }\n\n        _get(_getPrototypeOf(LogSubscription.prototype), \"subscribe\", this).call(this, callback);\n\n        return this;\n      }\n    }, {\n      key: \"onNewSubscriptionItem\",\n      value: function onNewSubscriptionItem(subscriptionItem) {\n        return this.formatters.outputLogFormatter(subscriptionItem);\n      }\n    }]);\n\n    return LogSubscription;\n  }(AbstractSubscription);\n\n  var NewHeadsSubscription = function (_AbstractSubscription) {\n    _inherits(NewHeadsSubscription, _AbstractSubscription);\n\n    function NewHeadsSubscription(utils, formatters, moduleInstance) {\n      _classCallCheck(this, NewHeadsSubscription);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(NewHeadsSubscription).call(this, 'eth_subscribe', 'newHeads', null, utils, formatters, moduleInstance));\n    }\n\n    _createClass(NewHeadsSubscription, [{\n      key: \"onNewSubscriptionItem\",\n      value: function onNewSubscriptionItem(subscriptionItem) {\n        return this.formatters.outputBlockFormatter(subscriptionItem);\n      }\n    }]);\n\n    return NewHeadsSubscription;\n  }(AbstractSubscription);\n\n  var NewPendingTransactionsSubscription = function (_AbstractSubscription) {\n    _inherits(NewPendingTransactionsSubscription, _AbstractSubscription);\n\n    function NewPendingTransactionsSubscription(utils, formatters, moduleInstance) {\n      _classCallCheck(this, NewPendingTransactionsSubscription);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(NewPendingTransactionsSubscription).call(this, 'eth_subscribe', 'newPendingTransactions', null, utils, formatters, moduleInstance));\n    }\n\n    return NewPendingTransactionsSubscription;\n  }(AbstractSubscription);\n\n  var SyncingSubscription = function (_AbstractSubscription) {\n    _inherits(SyncingSubscription, _AbstractSubscription);\n\n    function SyncingSubscription(utils, formatters, moduleInstance) {\n      var _this;\n\n      _classCallCheck(this, SyncingSubscription);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(SyncingSubscription).call(this, 'eth_subscribe', 'syncing', null, utils, formatters, moduleInstance));\n      _this.isSyncing = null;\n      return _this;\n    }\n\n    _createClass(SyncingSubscription, [{\n      key: \"onNewSubscriptionItem\",\n      value: function onNewSubscriptionItem(subscriptionItem) {\n        var isSyncing = subscriptionItem.result.syncing;\n\n        if (this.isSyncing === null) {\n          this.isSyncing = isSyncing;\n          this.emit('changed', this.isSyncing);\n        }\n\n        if (this.isSyncing === true && isSyncing === false) {\n          this.isSyncing = isSyncing;\n          this.emit('changed', this.isSyncing);\n        }\n\n        if (this.isSyncing === false && isSyncing === true) {\n          this.isSyncing = isSyncing;\n          this.emit('changed', this.isSyncing);\n        }\n\n        return this.formatters.outputSyncingFormatter(subscriptionItem);\n      }\n    }]);\n\n    return SyncingSubscription;\n  }(AbstractSubscription);\n\n  var MessagesSubscription = function (_AbstractSubscription) {\n    _inherits(MessagesSubscription, _AbstractSubscription);\n\n    function MessagesSubscription(options, utils, formatters, moduleInstance) {\n      _classCallCheck(this, MessagesSubscription);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(MessagesSubscription).call(this, 'shh_subscribe', 'messages', options, utils, formatters, moduleInstance));\n    }\n\n    return MessagesSubscription;\n  }(AbstractSubscription);\n\n  exports.AbstractSubscription = AbstractSubscription;\n  exports.LogSubscription = LogSubscription;\n  exports.NewHeadsSubscription = NewHeadsSubscription;\n  exports.NewPendingTransactionsSubscription = NewPendingTransactionsSubscription;\n  exports.SyncingSubscription = SyncingSubscription;\n  exports.MessagesSubscription = MessagesSubscription;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/Users/chasesmith/Desktop/registry-display/src/node_modules/web3-core-subscriptions/dist/web3-core-subscriptions.umd.js"],"names":["global","factory","exports","module","require","define","amd","Web3CoreSubscriptions","EventEmitter","_get","isFunction","_createClass","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_inherits","hasOwnProperty","AbstractSubscription","_EventEmitter","type","method","options","utils","formatters","moduleInstance","_this","call","id","key","value","beforeSubscription","onNewSubscriptionItem","subscriptionItem","subscribe","callback","_this2","subscriptionParameters","currentProvider","then","subscriptionId","on","response","formattedOutput","result","emit","catch","error","unsubscribe","_this3","slice","Error","removeAllListeners","LogSubscription","_AbstractSubscription","getPastLogsMethod","fromBlock","parameters","inputLogFormatter","execute","logs","forEach","log","formattedLog","prototype","outputLogFormatter","NewHeadsSubscription","outputBlockFormatter","NewPendingTransactionsSubscription","SyncingSubscription","isSyncing","syncing","outputSyncingFormatter","MessagesSubscription","Object","defineProperty"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('eventemitter3'), require('@babel/runtime/helpers/get'), require('lodash/isFunction'), require('@babel/runtime/helpers/createClass'), require('@babel/runtime/helpers/classCallCheck'), require('@babel/runtime/helpers/possibleConstructorReturn'), require('@babel/runtime/helpers/getPrototypeOf'), require('@babel/runtime/helpers/inherits')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'eventemitter3', '@babel/runtime/helpers/get', 'lodash/isFunction', '@babel/runtime/helpers/createClass', '@babel/runtime/helpers/classCallCheck', '@babel/runtime/helpers/possibleConstructorReturn', '@babel/runtime/helpers/getPrototypeOf', '@babel/runtime/helpers/inherits'], factory) :\n    (factory((global.Web3CoreSubscriptions = {}),global.EventEmitter,global._get,global.isFunction,global._createClass,global._classCallCheck,global._possibleConstructorReturn,global._getPrototypeOf,global._inherits));\n}(this, (function (exports,EventEmitter,_get,isFunction,_createClass,_classCallCheck,_possibleConstructorReturn,_getPrototypeOf,_inherits) { 'use strict';\n\n    EventEmitter = EventEmitter && EventEmitter.hasOwnProperty('default') ? EventEmitter['default'] : EventEmitter;\n    _get = _get && _get.hasOwnProperty('default') ? _get['default'] : _get;\n    isFunction = isFunction && isFunction.hasOwnProperty('default') ? isFunction['default'] : isFunction;\n    _createClass = _createClass && _createClass.hasOwnProperty('default') ? _createClass['default'] : _createClass;\n    _classCallCheck = _classCallCheck && _classCallCheck.hasOwnProperty('default') ? _classCallCheck['default'] : _classCallCheck;\n    _possibleConstructorReturn = _possibleConstructorReturn && _possibleConstructorReturn.hasOwnProperty('default') ? _possibleConstructorReturn['default'] : _possibleConstructorReturn;\n    _getPrototypeOf = _getPrototypeOf && _getPrototypeOf.hasOwnProperty('default') ? _getPrototypeOf['default'] : _getPrototypeOf;\n    _inherits = _inherits && _inherits.hasOwnProperty('default') ? _inherits['default'] : _inherits;\n\n    var AbstractSubscription =\n    function (_EventEmitter) {\n      _inherits(AbstractSubscription, _EventEmitter);\n      function AbstractSubscription(type, method, options, utils, formatters, moduleInstance) {\n        var _this;\n        _classCallCheck(this, AbstractSubscription);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AbstractSubscription).call(this));\n        _this.type = type;\n        _this.method = method;\n        _this.options = options || null;\n        _this.utils = utils;\n        _this.formatters = formatters;\n        _this.moduleInstance = moduleInstance;\n        _this.id = null;\n        return _this;\n      }\n      _createClass(AbstractSubscription, [{\n        key: \"beforeSubscription\",\n        value: function beforeSubscription(moduleInstance) {}\n      }, {\n        key: \"onNewSubscriptionItem\",\n        value: function onNewSubscriptionItem(subscriptionItem) {\n          return subscriptionItem;\n        }\n      }, {\n        key: \"subscribe\",\n        value: function subscribe(callback) {\n          var _this2 = this;\n          this.beforeSubscription(this.moduleInstance);\n          var subscriptionParameters = [];\n          if (this.options !== null) {\n            subscriptionParameters = [this.options];\n          }\n          this.moduleInstance.currentProvider.subscribe(this.type, this.method, subscriptionParameters).then(function (subscriptionId) {\n            _this2.id = subscriptionId;\n            _this2.moduleInstance.currentProvider.on(_this2.id, function (response) {\n              var formattedOutput = _this2.onNewSubscriptionItem(response.result);\n              _this2.emit('data', formattedOutput);\n              if (isFunction(callback)) {\n                callback(false, formattedOutput);\n              }\n            });\n          }).catch(function (error) {\n            _this2.emit('error', error);\n            if (isFunction(callback)) {\n              callback(error, null);\n            }\n          });\n          return this;\n        }\n      }, {\n        key: \"unsubscribe\",\n        value: function unsubscribe(callback) {\n          var _this3 = this;\n          return this.moduleInstance.currentProvider.unsubscribe(this.id, this.type.slice(0, 3) + '_unsubscribe').then(function (response) {\n            if (!response) {\n              var error = new Error('Error on unsubscribe!');\n              if (isFunction(callback)) {\n                callback(error, null);\n              }\n              throw error;\n            }\n            _this3.id = null;\n            _this3.removeAllListeners('data');\n            if (isFunction(callback)) {\n              callback(false, true);\n            }\n            return true;\n          });\n        }\n      }]);\n      return AbstractSubscription;\n    }(EventEmitter);\n\n    var LogSubscription =\n    function (_AbstractSubscription) {\n      _inherits(LogSubscription, _AbstractSubscription);\n      function LogSubscription(options, utils, formatters, moduleInstance, getPastLogsMethod) {\n        var _this;\n        _classCallCheck(this, LogSubscription);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(LogSubscription).call(this, 'eth_subscribe', 'logs', options, utils, formatters, moduleInstance));\n        _this.getPastLogsMethod = getPastLogsMethod;\n        return _this;\n      }\n      _createClass(LogSubscription, [{\n        key: \"subscribe\",\n        value: function subscribe(callback) {\n          var _this2 = this;\n          if (this.options.fromBlock && this.options.fromBlock !== 'latest' || this.options.fromBlock === 0) {\n            this.getPastLogsMethod.parameters = [this.formatters.inputLogFormatter(this.options)];\n            this.getPastLogsMethod.execute().then(function (logs) {\n              logs.forEach(function (log) {\n                var formattedLog = _this2.onNewSubscriptionItem(log);\n                if (isFunction(callback)) {\n                  callback(false, formattedLog);\n                }\n                _this2.emit('data', formattedLog);\n              });\n              delete _this2.options.fromBlock;\n              _get(_getPrototypeOf(LogSubscription.prototype), \"subscribe\", _this2).call(_this2, callback);\n            }).catch(function (error) {\n              if (isFunction(callback)) {\n                callback(error, null);\n              }\n              _this2.emit('error', error);\n            });\n            return this;\n          }\n          _get(_getPrototypeOf(LogSubscription.prototype), \"subscribe\", this).call(this, callback);\n          return this;\n        }\n      }, {\n        key: \"onNewSubscriptionItem\",\n        value: function onNewSubscriptionItem(subscriptionItem) {\n          return this.formatters.outputLogFormatter(subscriptionItem);\n        }\n      }]);\n      return LogSubscription;\n    }(AbstractSubscription);\n\n    var NewHeadsSubscription =\n    function (_AbstractSubscription) {\n      _inherits(NewHeadsSubscription, _AbstractSubscription);\n      function NewHeadsSubscription(utils, formatters, moduleInstance) {\n        _classCallCheck(this, NewHeadsSubscription);\n        return _possibleConstructorReturn(this, _getPrototypeOf(NewHeadsSubscription).call(this, 'eth_subscribe', 'newHeads', null, utils, formatters, moduleInstance));\n      }\n      _createClass(NewHeadsSubscription, [{\n        key: \"onNewSubscriptionItem\",\n        value: function onNewSubscriptionItem(subscriptionItem) {\n          return this.formatters.outputBlockFormatter(subscriptionItem);\n        }\n      }]);\n      return NewHeadsSubscription;\n    }(AbstractSubscription);\n\n    var NewPendingTransactionsSubscription =\n    function (_AbstractSubscription) {\n      _inherits(NewPendingTransactionsSubscription, _AbstractSubscription);\n      function NewPendingTransactionsSubscription(utils, formatters, moduleInstance) {\n        _classCallCheck(this, NewPendingTransactionsSubscription);\n        return _possibleConstructorReturn(this, _getPrototypeOf(NewPendingTransactionsSubscription).call(this, 'eth_subscribe', 'newPendingTransactions', null, utils, formatters, moduleInstance));\n      }\n      return NewPendingTransactionsSubscription;\n    }(AbstractSubscription);\n\n    var SyncingSubscription =\n    function (_AbstractSubscription) {\n      _inherits(SyncingSubscription, _AbstractSubscription);\n      function SyncingSubscription(utils, formatters, moduleInstance) {\n        var _this;\n        _classCallCheck(this, SyncingSubscription);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(SyncingSubscription).call(this, 'eth_subscribe', 'syncing', null, utils, formatters, moduleInstance));\n        _this.isSyncing = null;\n        return _this;\n      }\n      _createClass(SyncingSubscription, [{\n        key: \"onNewSubscriptionItem\",\n        value: function onNewSubscriptionItem(subscriptionItem) {\n          var isSyncing = subscriptionItem.result.syncing;\n          if (this.isSyncing === null) {\n            this.isSyncing = isSyncing;\n            this.emit('changed', this.isSyncing);\n          }\n          if (this.isSyncing === true && isSyncing === false) {\n            this.isSyncing = isSyncing;\n            this.emit('changed', this.isSyncing);\n          }\n          if (this.isSyncing === false && isSyncing === true) {\n            this.isSyncing = isSyncing;\n            this.emit('changed', this.isSyncing);\n          }\n          return this.formatters.outputSyncingFormatter(subscriptionItem);\n        }\n      }]);\n      return SyncingSubscription;\n    }(AbstractSubscription);\n\n    var MessagesSubscription =\n    function (_AbstractSubscription) {\n      _inherits(MessagesSubscription, _AbstractSubscription);\n      function MessagesSubscription(options, utils, formatters, moduleInstance) {\n        _classCallCheck(this, MessagesSubscription);\n        return _possibleConstructorReturn(this, _getPrototypeOf(MessagesSubscription).call(this, 'shh_subscribe', 'messages', options, utils, formatters, moduleInstance));\n      }\n      return MessagesSubscription;\n    }(AbstractSubscription);\n\n    exports.AbstractSubscription = AbstractSubscription;\n    exports.LogSubscription = LogSubscription;\n    exports.NewHeadsSubscription = NewHeadsSubscription;\n    exports.NewPendingTransactionsSubscription = NewPendingTransactionsSubscription;\n    exports.SyncingSubscription = SyncingSubscription;\n    exports.MessagesSubscription = MessagesSubscription;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]},"metadata":{},"sourceType":"module"}